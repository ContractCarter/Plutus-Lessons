--|Create a data type that corresponds to one of 3 contracts that'll run eventually
-- Init constructor sets up an environment where USD (CurrencySymbol) Token is available + wallets
-- Oracle constructor = runOracle (start oracle + provide update enpoint)
-- Swap parameter runs swap ctr + endpoints (offer, retrieve, use and funds)

{-# LANGUAGE DeriveAnyClass     #-}
{-# LANGUAGE DeriveGeneric      #-}

module Week06.Oracle.PAB
    ( OracleContracts (..)
    ) where

import           Data.Aeson                (FromJSON, ToJSON)
import           Data.Text.Prettyprint.Doc (Pretty (..), viaShow)
import           GHC.Generics              (Generic)
import           Ledger

import qualified Week06.Oracle.Core        as Oracle

data OracleContracts = Init | Oracle CurrencySymbol | Swap Oracle.Oracle
    deriving (Eq, Ord, Show, Generic, FromJSON, ToJSON)

instance Pretty OracleContracts where
    pretty = viaShow
